<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin</title>
    <link rel="stylesheet" href="../css/style_admin.css">
    <link rel="stylesheet" href="../font/themify-icons-font/themify-icons/themify-icons.css">

    <style>
        *{
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        html, body{
            font-family: Arial, sans-serif;
            scroll-behavior: smooth;
        }
        #Admin{
            overflow: hidden;
        }
    </style>
</head>
<body>
    <div id="Admin">
        <div id="header" class="admin">
            <div id="header-left">
                <p  class = "tx-white mg-5px">Admin</p>
            </div>
            <div id="header-right">
                <label class="f13px">Admin</label>
                <button id="Logout"><a href="../html/index.html" style="text-decoration: none; color: white;">Đăng xuất</a></button>

            </div>
        </div>
        <div id="left">
            <ul id="list-manage">
                <button onclick="loadPage('../html/Readermanagement.html')"><li>Quản lý bạn đọc </li></button>
                <button onclick="loadPage('../html/BanSao.html')"><li>Quản lý bản sao </li></button>
                <button onclick="loadPage('')"><li>Quản lý đặt chỗ </li></button>
                <button onclick="loadPage('../html/KeSach.html')"><li>Quản lý kệ sách </li></button>
                <button onclick="loadPage('../html/Phat.html')"><li>Quản lý phạt</li></button>
                <button onclick="loadPage('../html/PhieuMuon.html')"><li>Quản lý phiếu mượn</li></button>
                <button onclick="loadPage('../html/Sach.html')"><li>Quản lý sách</li></button>
                <button onclick="loadPage('../html/TheLoai.html')"><li>Quản lý thể loại</li></button>
                <button onclick="loadPage('../html/TaiKhoan.html')"><li>Quản lý tài khoản</li></button>
                <button onclick="loadPage('')"><li>Thanh toán</li></button>
            </ul>
        </div>
        <div id="right">
            <div id="content">Chọn menu bên trái để xem nội dung</div>
        </div>
    </div>
    <script>
  // loadPage GLOBAL cho tất cả trang con
  async function loadPage(page, afterLoadFnName) {
    try {
      const res  = await fetch(page, { cache: 'no-store' });
      const html = await res.text();

      const host = document.getElementById('content');
      host.innerHTML = html;

      // đợi DOM của trang con gắn xong rồi mới gọi init
      setTimeout(() => {
        // nếu trang con là trang danh sách bạn đọc
        if (document.getElementById('bd-body') && typeof window.initReaderPage === 'function') {
          window.initReaderPage();
        }

        // nếu lúc gọi loadPage có truyền tên hàm init thì gọi luôn
        if (afterLoadFnName && typeof window[afterLoadFnName] === 'function') {
          window[afterLoadFnName]();
        }
      }, 0);
    } catch (e) {
      const host = document.getElementById('content');
      host.innerHTML = "<p style='color:red'>Không tải được trang.</p>";
      console.error(e);
    }
  }

  // để nút Sửa ở trang con gọi được
  function setEditBD(ma) {
    sessionStorage.setItem('editBD', ma);
  }
</script>
    <script src="../js/FixBD.js"></script>

    <script src="../js/BanDoc.js"></script>
</body>
</html>